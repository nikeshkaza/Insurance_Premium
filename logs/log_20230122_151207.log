[2023-01-22 15:12:10,680] 	INFO 	33 	training.py 	get_pipeline_config() 	Pipeline configuration: PipelineConfig(pipeline_name='insurance-premium', artifact_dir='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact')
[2023-01-22 15:12:10,680] 	INFO 	70 	training.py 	get_data_ingestion_config() 	Data ingestion config: DataIngestionConfig(data_ingestion_dir='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_ingestion/20230122_151207', download_dir='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_ingestion/20230122_151207/downloaded_files', file_name='insurance_premium', feature_store_dir='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_ingestion/20230122_151207/feature_store', failed_dir='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_ingestion/20230122_151207/failed_downloaded_files', datasource_url='mongodb+srv://nikeshkaza:OWUCXgQaZkCnE4ht@cluster0.fckbdxk.mongodb.net/?retryWrites=true&w=majority')
[2023-01-22 15:12:10,680] 	INFO 	39 	data_ingestion.py 	__init__() 	>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>Starting data ingestion.<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[2023-01-22 15:12:10,680] 	INFO 	110 	data_ingestion.py 	initiate_data_ingestion() 	Started downloading json file
[2023-01-22 15:12:10,680] 	INFO 	53 	data_ingestion.py 	export_data_into_feature_store() 	Exporting data from mongodb to feature store
[2023-01-22 15:12:11,528] 	INFO 	116 	data_ingestion.py 	initiate_data_ingestion() 	Converting and combining downloaded json into parquet file
[2023-01-22 15:12:11,531] 	INFO 	89 	data_ingestion.py 	convert_files_to_parquet() 	Parquet file will be created at: /Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_ingestion/20230122_151207/feature_store/insurance_premium
[2023-01-22 15:12:14,846] 	INFO 	128 	data_ingestion.py 	initiate_data_ingestion() 	Data ingestion artifact: DataIngestionArtifact(feature_store_file_path='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_ingestion/20230122_151207/feature_store/insurance_premium', download_dir='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_ingestion/20230122_151207/downloaded_files')
[2023-01-22 15:12:14,847] 	INFO 	90 	training.py 	get_data_validation_config() 	Data preprocessing config: DataValidationConfig(accepted_data_dir='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_validation/20230122_151207/accepted_data', rejected_data_dir='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_validation/20230122_151207/rejected_data', file_name='insurance_premium')
[2023-01-22 15:12:14,847] 	INFO 	151 	data_validation.py 	initiate_data_validation() 	Initiating data validation
[2023-01-22 15:12:15,004] 	INFO 	51 	data_validation.py 	read_data() 	Data frame is created using file: /Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_ingestion/20230122_151207/feature_store/insurance_premium
[2023-01-22 15:12:15,137] 	INFO 	52 	data_validation.py 	read_data() 	Number of row: 1338 and column: 7
[2023-01-22 15:12:15,137] 	INFO 	62 	data_validation.py 	get_missing_report() 	Preparing missing reports for each column
[2023-01-22 15:12:15,808] 	INFO 	72 	data_validation.py 	get_missing_report() 	Missing report prepared: {'age': MissingReport(total_row=1338, missing_row=0, missing_percentage=0.0), 'sex': MissingReport(total_row=1338, missing_row=0, missing_percentage=0.0), 'bmi': MissingReport(total_row=1338, missing_row=0, missing_percentage=0.0), 'children': MissingReport(total_row=1338, missing_row=0, missing_percentage=0.0), 'smoker': MissingReport(total_row=1338, missing_row=0, missing_percentage=0.0), 'region': MissingReport(total_row=1338, missing_row=0, missing_percentage=0.0), 'expenses': MissingReport(total_row=1338, missing_row=0, missing_percentage=0.0)}
[2023-01-22 15:12:15,808] 	INFO 	161 	data_validation.py 	initiate_data_validation() 	Saving preprocessed data.
[2023-01-22 15:12:16,116] 	INFO 	174 	data_validation.py 	initiate_data_validation() 	Data validation artifact: [DataValidationArtifact(accepted_file_path='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_validation/20230122_151207/accepted_data/insurance_premium', rejected_dir='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_validation/20230122_151207/rejected_data')]
[2023-01-22 15:12:16,116] 	INFO 	119 	training.py 	get_data_transformation_config() 	Data transformation config: DataTransformationConfig(file_name='insurance_premium', export_pipeline_dir='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_transformation/20230122_151207/transformed_pipeline', transformed_train_dir='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_transformation/20230122_151207/train', transformed_test_dir='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_transformation/20230122_151207/test', test_size=0.2)
[2023-01-22 15:12:16,117] 	INFO 	98 	data_transformation.py 	initiate_data_transformation() 	>>>>>>>>>>>Started data transformation <<<<<<<<<<<<<<<
[2023-01-22 15:12:16,372] 	INFO 	101 	data_transformation.py 	initiate_data_transformation() 	Number of row: [1338] and column: [7]
[2023-01-22 15:12:16,372] 	INFO 	104 	data_transformation.py 	initiate_data_transformation() 	Splitting dataset into train and test set using ration: 0.8:0.2
[2023-01-22 15:12:16,504] 	INFO 	106 	data_transformation.py 	initiate_data_transformation() 	Train dataset has number of row: [1056] and column: [7]
[2023-01-22 15:12:16,589] 	INFO 	109 	data_transformation.py 	initiate_data_transformation() 	Train dataset has number of row: [1056] and column: [7]
[2023-01-22 15:12:16,614] 	INFO 	89 	data_transformation.py 	get_data_transformation_pipeline() 	Data transformation pipeline: [Pipeline_b9c21f3a05f6]
[2023-01-22 15:12:17,670] 	INFO 	142 	data_transformation.py 	initiate_data_transformation() 	Saving transformation pipeline at: [/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_transformation/20230122_151207/transformed_pipeline]
[2023-01-22 15:12:18,785] 	INFO 	144 	data_transformation.py 	initiate_data_transformation() 	Saving transformed train data at: [/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_transformation/20230122_151207/train/insurance_premium]
[2023-01-22 15:12:19,075] 	INFO 	148 	data_transformation.py 	initiate_data_transformation() 	Saving transformed test data at: [/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_transformation/20230122_151207/test/insurance_premium]
[2023-01-22 15:12:19,275] 	INFO 	159 	data_transformation.py 	initiate_data_transformation() 	Data transformation artifact: [DataTransformationArtifact(transformed_train_file_path='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_transformation/20230122_151207/train/insurance_premium', exported_pipeline_file_path='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_transformation/20230122_151207/transformed_pipeline', transformed_test_file_path='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/data_transformation/20230122_151207/test/insurance_premium')]
[2023-01-22 15:12:19,275] 	INFO 	137 	training.py 	get_model_trainer_config() 	Model trainer config: ModelTrainerConfig(base_accuracy=0.6, trained_model_file_path='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/model_trainer/20230122_151207/trained_model/insurance_premium', metric_list=['mse', 'rmse', 'r2'])
[2023-01-22 15:12:19,609] 	INFO 	64 	model_trainer.py 	get_model() 	Creating Random Forest Classifier class.
[2023-01-22 15:12:22,961] 	INFO 	23 	__init__.py 	get_score() 	mse score: 11766335.277291505
[2023-01-22 15:12:23,038] 	INFO 	23 	__init__.py 	get_score() 	rmse score: 3430.209217714206
[2023-01-22 15:12:23,088] 	INFO 	23 	__init__.py 	get_score() 	r2 score: 0.9226329027465752
[2023-01-22 15:12:23,088] 	INFO 	132 	model_trainer.py 	initiate_model_training() 	Model trainer train metric: PartialModelTrainerMetricArtifact(mse=11766335.277291505, rmse=3430.209217714206, r2=0.9226329027465752)
[2023-01-22 15:12:23,165] 	INFO 	23 	__init__.py 	get_score() 	mse score: 22701681.655847587
[2023-01-22 15:12:23,217] 	INFO 	23 	__init__.py 	get_score() 	rmse score: 4764.628176033004
[2023-01-22 15:12:23,281] 	INFO 	23 	__init__.py 	get_score() 	r2 score: 0.8187919668634265
[2023-01-22 15:12:23,281] 	INFO 	140 	model_trainer.py 	initiate_model_training() 	Model trainer test metric: PartialModelTrainerMetricArtifact(mse=22701681.655847587, rmse=4764.628176033004, r2=0.8187919668634265)
[2023-01-22 15:12:26,353] 	INFO 	90 	model_trainer.py 	export_trained_model() 	Creating trained model directory
[2023-01-22 15:12:26,353] 	INFO 	97 	model_trainer.py 	export_trained_model() 	Model trainer reference artifact: PartialModelTrainerRefArtifact(trained_model_file_path='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/model_trainer/20230122_151207/trained_model/insurance_premium')
[2023-01-22 15:12:26,353] 	INFO 	147 	model_trainer.py 	initiate_model_training() 	Model trainer artifact: <entity.artifact_entity.ModelTrainerArtifact object at 0x13f83be80>
[2023-01-22 15:12:26,353] 	INFO 	159 	training.py 	get_model_evaluation_config() 	Model evaluation config: [ModelEvaluationConfig(model_evaluation_report_file_path='/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/model_evaluation/report/evaluation_report', threshold=0.002, metric_list=['r2'], model_dir='modelregistry1901', bucket_name='modelregistry1901')]
[2023-01-22 15:20:53,586] 	INFO 	111 	model_evaluation.py 	initiate_model_evaluation() 	Model evaluation artifact: {'model_accepted': True, 'changed_accuracy': 0.0, 'trained_model_path': '/Users/nikeshkaza/data_science/POC/insurance_premium/insurance_artifact/model_trainer/20230122_151207/trained_model/insurance_premium', 'best_model_path': None, 'active': True, 'created_timestamp': datetime.datetime(2023, 1, 22, 15, 20, 9, 180581)}
